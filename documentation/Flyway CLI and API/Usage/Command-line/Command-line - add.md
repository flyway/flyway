---
pill: cli_add
subtitle: 'Command-line: add'
---
# Command-line: add

Generates an empty migration script of the specified type.
The version, description and location of the script can be specified or auto-generated by flyway based on the script type.

## Usage

<pre class="console"><span>&gt;</span> flyway add [options]</pre>

## Options

The following options can be provided to the `add` command in the format -key=value:
- `add.location` - The location to generate the migration to.  See also: flyway.location.
- `add.description` - The description part of the migration name.
- `add.version` - The version part of the migration name. If not specified, this will be calculated automatically based on the migration type.
- `add.nameOnly` - Only return the name of the migration script, without creating the empty file. Default: false.
- `add.type` - The type of migration to create.  Valid values: `versioned|baseline|undo|repeatable` Default: `versioned`.
- `add.addTimestamp` - Add a timestamp to the calculated version if one is not already present. Default: false

## Examples

### Generating a versioned migration script

If the migrations directory has the following contents before running the add command:
```
B001__baseline.sql
V002_20240829162505__feature_A.sql
```
Then the following `add` command will create a new migration script with an auto-generated version:
<pre class="console">&gt; flyway add -add.description=feature_B

Flyway {{ site.flywayVersion }} by Redgate

Database: jdbc:mysql://clone-internal.red-gate.com:32781/mysql (MySQL 8.0)
created: .\migrations\V003_20240829163045__feature_B.sql
</pre>

Leaving the migrations directory with the following contents:
```
B001__baseline.sql
V002_20240828142505__feature_A.sql
V003_20240829163045__feature_B.sql
```

**Note**: Flyway uses the latest version in the migrations folder to calculate the next migration version.
If a timestamp of the format `yyyyMMddHHmmss` is part of the version then this will also be updated, as can be seen above.

### Generating an undo migration script

If the migrations directory has the following contents before running the add command:
```
B001__baseline.sql
V002__feature_A.sql
```
Then the following `add` command will create a new undo migration script using the version and description of the most recent versioned migration:
<pre class="console">&gt; flyway add -add.type=undo

Flyway {{ site.flywayVersion }} by Redgate

Database: jdbc:mysql://clone-internal.red-gate.com:32781/mysql (MySQL 8.0)
Database: jdbc:mysql://clone-internal.red-gate.com:32781/mysql (MySQL 8.0)
created: .\migrations\U002__feature_A.sql
</pre>

Leaving the migrations directory with the following contents:
```
B001__baseline.sql
U002__feature_A.sql
V002__feature_A.sql
```

### Generating a baseline migration script

In this case the migrations directory will be empty, as the baseline migration is the first script to be created.
Running the following `add` command will add a baseline script at the specified location and defaulting to version `001`:
<pre class="console">&gt; flyway add -add.type=baseline -add.location=C:\Users\FlywayUser\Project\migrations\ -add.description=initial_state

Flyway {{ site.flywayVersion }} by Redgate

Database: jdbc:mysql://clone-internal.red-gate.com:32781/mysql (MySQL 8.0)
created: C:\Users\FlywayUser\Project\migrations\B001__initial_state.sql
</pre>

Leaving the migrations directory with the following contents:
```
B001__initial_state.sql
```

### Generating only the migration script name

Using the `-q` option in combination with the `add.nameOnly` option, it's possible for flyway to only print the name of the migration script that would be created.
For example, the following command would open the next migration script in the `vim` editor when run in a `bash` shell, without creating the file:
<pre class="console">&gt; vim $(flyway -q add -add.nameOnly=true)</pre>
